<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ZENIT</title><meta name="description" content="Documentation for ZENIT"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ZENIT</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>ZENIT</h1></div><div class="tsd-panel tsd-typography"><a id="zenit-zenit-brain-setup-guide" class="tsd-anchor"></a><h1 class="tsd-anchor-link">ZENIT Zenit-Brain Setup Guide<a href="#zenit-zenit-brain-setup-guide" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This guide provides detailed steps to set up the ZENIT zenit-brain for connecting to the robotic body. Additional documentation will be included in the future, covering different networks that zenit-brain will connect to.</p>
<a id="steps-to-connect-zenit-brain-to-the-robotic-body" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Steps to Connect Zenit-Brain to the Robotic Body<a href="#steps-to-connect-zenit-brain-to-the-robotic-body" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="1-set-up-server-configuration-file" class="tsd-anchor"></a><h3 class="tsd-anchor-link">1) Set Up Server Configuration File<a href="#1-set-up-server-configuration-file" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Copy <code>server-conf_TPL.json</code> and rename it to <code>server-conf.json</code>.</li>
<li>Adjust the IP addresses and ports as needed:
<ul>
<li>To establish a connection with the robot, configure the <code>RobotNetwork</code>.</li>
<li>To receive data from the kinetic space, configure the <code>KinectNetwork</code>.</li>
</ul>
</li>
<li>Adjust the robot position:
<ul>
<li><code>baseX</code> and <code>baseZ</code> are the coordinates of the robot within the kinetic space room (x and y positions).</li>
<li><code>baseY</code> is the delta in meters between the robot base position and the Azure Kinect.</li>
<li><code>baseRotation</code> is the base orientation (in degrees) of the robot, where 0 indicates a turn towards south.</li>
</ul>
</li>
</ul>
<a id="2-data-transmission-from-kinetic-space-to-robot" class="tsd-anchor"></a><h3 class="tsd-anchor-link">2) Data Transmission from Kinetic Space to Robot<a href="#2-data-transmission-from-kinetic-space-to-robot" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The coordinates of the closest body tracked by kinetic space are sent to the robot on demand if the robot requires them (e.g., to turn towards the interlocutor). This process occurs in the <code>server.js</code> file.</p>
<pre><code class="javascript"><span class="hl-0">var</span><span class="hl-1"> </span><span class="hl-2">payload</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;mode&quot;</span><span class="hl-2"> :</span><span class="hl-1"> </span><span class="hl-3">&quot;dataSupply&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;activity&quot;</span><span class="hl-2"> :</span><span class="hl-1"> </span><span class="hl-3">&quot;personCoordinates&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;data&quot;</span><span class="hl-2"> :</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;baseX&quot;</span><span class="hl-2"> :</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-2">robotPosition</span><span class="hl-1">.</span><span class="hl-2">baseX</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;baseY&quot;</span><span class="hl-2"> :</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-2">robotPosition</span><span class="hl-1">.</span><span class="hl-2">baseY</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;baseZ&quot;</span><span class="hl-2"> :</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-2">robotPosition</span><span class="hl-1">.</span><span class="hl-2">baseZ</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;baseRotation&quot;</span><span class="hl-2"> :</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-2">robotPosition</span><span class="hl-1">.</span><span class="hl-2">baseRotation</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;personX&quot;</span><span class="hl-2"> :</span><span class="hl-1"> </span><span class="hl-4">Number</span><span class="hl-1">(</span><span class="hl-2">closestBody</span><span class="hl-1">.</span><span class="hl-2">x</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;personY&quot;</span><span class="hl-2"> :</span><span class="hl-1"> </span><span class="hl-4">Number</span><span class="hl-1">(</span><span class="hl-2">closestBody</span><span class="hl-1">.</span><span class="hl-2">y</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;personZ&quot;</span><span class="hl-2"> :</span><span class="hl-1"> </span><span class="hl-4">Number</span><span class="hl-1">(</span><span class="hl-2">closestBody</span><span class="hl-1">.</span><span class="hl-2">z</span><span class="hl-1">)</span><br/><span class="hl-1">    } </span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-2">robotControlWS</span><span class="hl-1">.</span><span class="hl-4">send</span><span class="hl-1">(</span><span class="hl-5">JSON</span><span class="hl-1">.</span><span class="hl-4">stringify</span><span class="hl-1">(</span><span class="hl-2">payload</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<p>In the payload, additional information can be added for processing by the robotic arm (e.g., degree of crossed limbs or leaning direction).</p>
<a id="3-processing-data-in-zenit-body" class="tsd-anchor"></a><h3 class="tsd-anchor-link">3) Processing Data in <code>zenit-body</code><a href="#3-processing-data-in-zenit-body" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>In <code>robot_network.py</code>, the data is processed if the mode is set to <code>dataSupply</code>.</p>
<pre><code class="python">def digest_activity_data(self, payload):
    if self.activity == 'followHead':
        if self.ready_for_command() == False:
            time.sleep(0.1)
            self.karero_network.backsend("getPersonCoordinates")
            return False
        self.follow_head(payload)
        time.sleep(0.1)
        self.karero_network.backsend("getPersonCoordinates")
    return True
</code><button type="button">Copy</button></pre>

<p>Here, other activity data can be processed. Movement patterns are encapsulated in async functions using the mech_arm API and the <code>send_angles</code> function, executing a predefined <code>movement_description</code> which can contain variables on initialization. For more functions, check the <a href="https://github.com/elephantrobotics/pymycobot/blob/main/docs/README.md">pymycobot documentation</a>.</p>
<a id="4-create-new-states-and-use-processors-to-process-data-input" class="tsd-anchor"></a><h3 class="tsd-anchor-link">4) Create New States and Use Processors to Process Data Input<a href="#4-create-new-states-and-use-processors-to-process-data-input" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Further instructions will be provided on how to create new states and use processors to handle data input.</p>
<hr>
<p>This documentation is not yet complete. Additional sections will be added as new functionalities and network connections are implemented.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#zenit-zenit-brain-setup-guide"><span>ZENIT <wbr/>Zenit-<wbr/>Brain <wbr/>Setup <wbr/>Guide</span></a><ul><li><a href="#steps-to-connect-zenit-brain-to-the-robotic-body"><span>Steps to <wbr/>Connect <wbr/>Zenit-<wbr/>Brain to the <wbr/>Robotic <wbr/>Body</span></a></li><li><ul><li><a href="#1-set-up-server-configuration-file"><span>1) <wbr/>Set <wbr/>Up <wbr/>Server <wbr/>Configuration <wbr/>File</span></a></li><li><a href="#2-data-transmission-from-kinetic-space-to-robot"><span>2) <wbr/>Data <wbr/>Transmission from <wbr/>Kinetic <wbr/>Space to <wbr/>Robot</span></a></li><li><a href="#3-processing-data-in-zenit-body"><span>3) <wbr/>Processing <wbr/>Data in zenit-<wbr/>body</span></a></li><li><a href="#4-create-new-states-and-use-processors-to-process-data-input"><span>4) <wbr/>Create <wbr/>New <wbr/>States and <wbr/>Use <wbr/>Processors to <wbr/>Process <wbr/>Data <wbr/>Input</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">ZENIT</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
